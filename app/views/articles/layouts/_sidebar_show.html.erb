<%= render 'shared/sidebar_actions' %>

<% if current_user %>
  <div class="well" id="article-actions">
    <%= link_to t('models.article.update'), edit_article_path(article.id),
                                     class: 'btn btn-success btn-block',
                                     type: 'button' %>

    <%= link_to t('models.article.report'), new_article_report_path(article.id),
              id: 'create_report',
              class: "btn btn-danger btn-block",
              data: {
                toggle: 'modal',
                target: '#modal-report-article'
              } %>
  </div>
<% end %>

<%= bootstrap_form_for article, layout: :horizontal, label_col: "col-sm-5", control_col: "col-sm-7" do |f| %>
  <div class="panel panel-default" id="article-details">
    <div class="panel-heading">
      <%= t('article.details') %>
    </div>
    <div class="panel-body">
      <%= f.static_control nil, label: t('models.article.theme') do %>
        <%= article.theme.title %>
      <% end %>
      <%= f.static_control nil, label: t('models.article.chronology') do %>
        <%= article.chronology.title %>
      <% end %>
      <%= f.static_control nil, label: t('models.article.tags') do %>
        <% if article.tags_array.any? %>
          <% article.tags_array.each do |t| %>
            <span class="label label-primary"><%= t %></span>
          <% end %>
        <% else %>
          <span class="label label-primary"><%= t('none') %></span>
        <% end %>
      <% end %>
    </div>
  </div>

  <div class="panel panel-default" id="article-metadatas">
    <div class="panel-heading">
      <%= t('article.metadatas') %>
    </div>
    <div class="panel-body">
      <%= f.static_control nil, label: t('models.article.url') do %>
      <% end %>
      <%= f.static_control nil, label: t('models.article.location') do %>
      <% end %>
      <%= f.static_control nil, label: t('models.article.revision') do %>
        <%= article.history_tracks.count %>
      <% end %>
    </div>
  </div>
<% end %>
